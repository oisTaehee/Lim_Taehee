<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‹¤í¬ MBTI ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸</title>
    <style>
        :root {
            --dark-bg: #121212;
            --darker-bg: #0a0a0a;
            --accent: #8b0000;
            --text: #e0e0e0;
            --highlight: #ff5555;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text);
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 1px solid var(--accent);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, var(--darker-bg) 70%);
            z-index: -1;
        }
        
        h1 {
            color: var(--highlight);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 85, 85, 0.3);
            animation: pulse 3s infinite;
        }
        
        @keyframes pulse {
            0% { text-shadow: 0 0 10px rgba(255, 85, 85, 0.3); }
            50% { text-shadow: 0 0 20px rgba(255, 85, 85, 0.6); }
            100% { text-shadow: 0 0 10px rgba(255, 85, 85, 0.3); }
        }
        
        .subtitle {
            color: #aaa;
            font-style: italic;
        }
        
        .question-container {
            background-color: var(--darker-bg);
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--accent);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .question-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.4);
        }
        
        .question {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--highlight);
        }
        
        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .option {
            background-color: rgba(139, 0, 0, 0.2);
            padding: 12px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .option::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 85, 85, 0.1), transparent);
            transition: all 0.5s;
        }
        
        .option:hover {
            background-color: rgba(139, 0, 0, 0.4);
            border-color: var(--accent);
        }
        
        .option:hover::before {
            left: 100%;
        }
        
        .option.selected {
            background-color: rgba(139, 0, 0, 0.6);
            border-color: var(--highlight);
            box-shadow: 0 0 10px rgba(255, 85, 85, 0.3);
        }
        
        button {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 30px auto;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }
        
        button:hover {
            background-color: var(--highlight);
            box-shadow: 0 0 15px rgba(255, 85, 85, 0.5);
            transform: translateY(-2px);
        }
        
        button:disabled {
            background-color: #444;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-container {
            display: none;
            background-color: var(--darker-bg);
            border-radius: 8px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            border-top: 4px solid var(--highlight);
            animation: fadeIn 1s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-title {
            color: var(--highlight);
            font-size: 1.8rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 8px rgba(255, 85, 85, 0.3);
        }
        
        .result-subtitle {
            font-size: 1.2rem;
            color: #aaa;
            margin-bottom: 30px;
            text-align: center;
            font-style: italic;
        }
        
        .result-content {
            margin-bottom: 30px;
        }
        
        .dark-traits {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }
        
        .trait {
            text-align: center;
            flex: 1;
            padding: 15px;
            background-color: rgba(139, 0, 0, 0.2);
            border-radius: 5px;
            margin: 0 5px;
            transition: all 0.3s;
        }
        
        .trait:hover {
            background-color: rgba(139, 0, 0, 0.4);
            transform: translateY(-5px);
        }
        
        .trait-name {
            font-weight: bold;
            color: var(--highlight);
            margin-bottom: 10px;
        }
        
        .trait-value {
            height: 10px;
            background-color: #333;
            border-radius: 5px;
            margin-bottom: 10px;
            overflow: hidden;
        }
        
        .trait-fill {
            height: 100%;
            background-color: var(--highlight);
            border-radius: 5px;
            transition: width 1s ease-out;
        }
        
        .mbti-ranking {
            margin-top: 40px;
        }
        
        .ranking-title {
            color: var(--highlight);
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 1px solid var(--accent);
            padding-bottom: 5px;
        }
        
        .ranking-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #333;
            transition: background-color 0.3s;
        }
        
        .ranking-item:hover {
            background-color: rgba(139, 0, 0, 0.1);
        }
        
        .ranking-type {
            font-weight: bold;
        }
        
        .ranking-score {
            color: var(--highlight);
        }
        
        .progress-container {
            width: 100%;
            background-color: #333;
            border-radius: 5px;
            margin: 5px 0;
            height: 10px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background-color: var(--highlight);
            border-radius: 5px;
            transition: width 1s ease-out;
        }
        
        .dark-message {
            font-style: italic;
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            background-color: rgba(139, 0, 0, 0.1);
            border-left: 3px solid var(--highlight);
        }
        
        .restart-btn {
            margin-top: 20px;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            .dark-traits {
                flex-direction: column;
            }
            
            .trait {
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ‘ ë‹¤í¬ MBTI ì‹¬ë¦¬ í…ŒìŠ¤íŠ¸</h1>
            <p class="subtitle">ë‹¹ì‹ ì˜ ê·¸ë¦¼ì ì†ì— ìˆ¨ê²¨ì§„ ì§„ì‹¤ì„ ë°í˜€ë“œë¦½ë‹ˆë‹¤...</p>
        </header>
        
        <div id="test-container">
            <!-- ì§ˆë¬¸ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤ -->
        </div>
        
        <button id="submit-btn" disabled>ê²°ê³¼ ë³´ê¸°</button>
        
        <div id="result-container" class="result-container">
            <!-- ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
        </div>
    </div>

    <script>
        // í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ ë°ì´í„°
        const questions = [
            {
                question: "1. íƒ€ì¸ì˜ ì‹¤íŒ¨ë¥¼ ëª©ê²©í–ˆì„ ë•Œ, ë‚´ë©´ì—ì„œ ëŠê»´ì§€ëŠ” ì²« ë²ˆì§¸ ê°ì •ì€?",
                options: [
                    "a) ë™ì •",
                    "b) ë¬´ê´€ì‹¬",
                    "c) í¥ë¯¸ë¡œìš´ ê´€ì°° ëŒ€ìƒ",
                    "d) ì ì¬ì  ì´ì  ê³„ì‚°"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "2. ëˆ„êµ°ê°€ì˜ ë¹„ë°€ì„ ì•Œê²Œ ë˜ì—ˆì„ ë•Œ, ë‚˜ì˜ ë³¸ëŠ¥ì  ë°˜ì‘ì€?",
                options: [
                    "a) ì§€í‚¤ë ¤ í•¨",
                    "b) ë¬´ì‹œí•¨",
                    "c) ì •ë³´ì˜ ê°€ì¹˜ í‰ê°€",
                    "d) ì¡°ì¢…ì— í™œìš©í•  ë°©ë²• íƒìƒ‰"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "3. 'ëª¨ë“  ì¸ê°„ì€ ê²°êµ­ ìê¸° ì´ìµì„ ìœ„í•´ ì›€ì§ì¸ë‹¤'ëŠ” ëª…ì œì— ëŒ€í•œ ìƒê°ì€?",
                options: [
                    "a) ë¶€ì •",
                    "b) ë¶€ë¶„ì  ë™ì˜",
                    "c) ë‹¹ì—°í•œ ë²•ì¹™",
                    "d) 'ì´ìµ'ì˜ ì •ì˜ì— ë”°ë¼ ë‹¤ë¦„ (ê¶Œë ¥? ì¾Œë½?)"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "4. ì‚¬íšŒì  ê·œë²”ì„ ì–´ê¸°ëŠ” ì‹¤í—˜ì— ì°¸ì—¬í•œë‹¤ë©´, ì–´ëŠ ì •ë„ê¹Œì§€ í–‰ë™í•  ìˆ˜ ìˆëŠ”ê°€?",
                options: [
                    "a) ë²•ì  í•œê³„ ë‚´",
                    "b) ë„ë•ì  ë¶ˆí¸ê° ë¬´ì‹œ",
                    "c) íƒ€ì¸ì˜ ê³ í†µë„ ë³€ìˆ˜ì¼ ë¿",
                    "d) ê·œë²” ìì²´ë¥¼ ì¬ì •ì˜í•  ì˜í–¥"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "5. ì¥ê¸°ì ì¸ ë³µìˆ˜ë¥¼ ê³„íší•œ ê²½í—˜ì´ ìˆëŠ”ê°€?",
                options: [
                    "a) ì—†ìŒ",
                    "b) ìƒìƒë§Œ í•¨",
                    "c) ì²´ê³„ì ìœ¼ë¡œ ì‹¤í–‰í•¨",
                    "d) ë³µìˆ˜ë³´ë‹¤ ì§€ë°° ì„ í˜¸"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "6. íƒ€ì¸ì˜ ë‘ë ¤ì›€ì„ ì´ìš©í•´ ëª©ì ì„ ë‹¬ì„±í•œ ì ì´ ìˆëŠ”ê°€?",
                options: [
                    "a) ì—†ìŒ",
                    "b) ìš°ì—°íˆ ë°œìƒ",
                    "c) ì „ëµì  ë„êµ¬ë¡œ ì‚¬ìš©",
                    "d) ë‘ë ¤ì›€ ìì²´ê°€ ëª©ì ì¼ ë•Œë„ ìˆìŒ"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "7. 'ì•…ë§ˆì˜ í¸ì— ì„œì„œ ìŠ¹ë¦¬í•˜ëŠ” ê²ƒ'ì— ëŒ€í•œ íƒœë„ëŠ”?",
                options: [
                    "a) ê±°ë¶€ê°",
                    "b) ìƒí™©ì— ë”°ë¼",
                    "c) ë„êµ¬ì  í•©ë¦¬ì„±",
                    "d) ì•…ë§ˆì˜ ì •ì˜ê°€ ë¬¸ì œ (ê¶Œë ¥ì€ ì¤‘ë¦½ì )"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "8. ìì‹ ì˜ ì •ì²´ì„±ì„ ê°€ì¥ íš¨ê³¼ì ìœ¼ë¡œ ìˆ¨ê¸¸ ìˆ˜ ìˆëŠ” ìƒí™©ì€?",
                options: [
                    "a) ì—°ê¸° ë¶ˆê°€ëŠ¥",
                    "b) ë¶€ë¶„ì  ìœ„ì¥",
                    "c) ì™„ì „í•œ ë³€ì¥ë³´ë‹¤ ì—­ì„¤ì  ì§„ì‹¤ í˜¼ë€",
                    "d) ì •ì²´ì„± ìì²´ê°€ ìœ ë™ì "
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "9. 'ì•½ìë¥¼ ë³´í˜¸í•´ì•¼ í•œë‹¤'ëŠ” ì£¼ì¥ì— ëŒ€í•œ ë‚´ë©´ì˜ ë°˜ì‘ì€?",
                options: [
                    "a) ë™ì˜",
                    "b) ì¡°ê±´ë¶€ ë™ì˜",
                    "c) ì•½ìì˜ ì •ì˜ê°€ ë¨¼ì € í•„ìš” (ì •ì‹ ì  ì•½ìë„ í¬í•¨?)",
                    "d) ë³´í˜¸ë³´ë‹¤ 'í†µì œ'ê°€ ì í•©í•œ í‘œí˜„"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "10. ì§€ê¸ˆê¹Œì§€ í•œ ë§ ì¤‘ ê°€ì¥ ì¹˜ì¡¸í•œ ê±°ì§“ë§ì€?",
                options: [
                    "a) ê¸°ì–µ ì•ˆ ë‚¨",
                    "b) ì‚¬ì†Œí•œ ê±°ì§“ë§",
                    "c) ì§„ì‹¤ì„ ì˜ì‹¬í•˜ì§€ ì•Šë„ë¡ ë°˜ì§„ì‹¤ êµ¬ì„±",
                    "d) ê±°ì§“ë§ì´ ì•„ë‹Œ í˜„ì‹¤ ì¬êµ¬ì„±"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "11. íƒ€ì¸ì˜ ì‹ ë¢°ë¥¼ ê°€ì¥ ë¹¨ë¦¬ ë¬´ë„ˆëœ¨ë¦¬ëŠ” ë°©ë²•ì€?",
                options: [
                    "a) ì§ì ‘ì  ë°°ì‹ ",
                    "b) ì„œì„œíˆ ì˜ì‹¬ ì‹¬ê¸°",
                    "c) ê·¸ë“¤ì´ ìŠ¤ìŠ¤ë¡œë¥¼ ì˜ì‹¬í•˜ê²Œ ìœ ë„",
                    "d) ì‹ ë¢°ì˜ ê°œë… ìì²´ë¥¼ ë¶•ê´´ì‹œí‚´"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "12. 'ëª¨ë“  ì¸ê°„ì€ ê°€ê²©ì´ ìˆë‹¤'ëŠ” ëª…ì œì— ëŒ€í•œ ì…ì¥ì€?",
                options: [
                    "a) ë¶€ì •",
                    "b) ì¼ë¶€ ë™ì˜",
                    "c) ê°€ê²©ì´ ë¹„í™”íì ì¼ ë¿ (ì¡´ì—„? ì–‘ì‹¬?)",
                    "d) 'êµ¬ë§¤ì'ê°€ ê²°ì •í•˜ëŠ” ë¬¸ì œ"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "13. ê¶Œë ¥ì˜ ë³¸ì§ˆì— ëŒ€í•œ ìƒê°ì€?",
                options: [
                    "a) ì±…ì„",
                    "b) ì–‘ë‚ ì˜ ê²€",
                    "c) ì¡´ì¬ì˜ í™•ì¥",
                    "d) í™˜ìƒì´ì§€ë§Œ ìœ ì¼í•œ í˜„ì‹¤"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "14. ë‚´ê°€ ê°€ì¥ í¥ë¯¸ë¡­ê²Œ ê´€ì°°í•˜ëŠ” ì¸ê°„ ìœ í˜•ì€?",
                options: [
                    "a) ì„ í•œ ì‚¬ëŒ",
                    "b) ë³µì¡í•œ ì‚¬ëŒ",
                    "c) ìê¸° íŒŒê´´ì  ì„±í–¥ì˜ ì§€ëŠ¥í˜•",
                    "d) ë‚˜ë¥¼ ìœ„í˜‘í•  ìˆ˜ ìˆëŠ” ì ì¬ë ¥ ìˆëŠ” ì"
                ],
                scores: [0, 1, 2, 2]
            },
            {
                question: "15. 'ì•…'ì„ ì •ì˜í•œë‹¤ë©´?",
                options: [
                    "a) ê³ ì˜ì  í”¼í•´",
                    "b) ë¬´ì§€",
                    "c) ì²´ê³„ì˜ ë¶ˆì™„ì „ì„±ì„ ì´ìš©í•˜ëŠ” í–‰ìœ„",
                    "d) ì •ì˜ ë¶ˆê°€ (ì•…ì€ ìƒëŒ€ì  ë„êµ¬)"
                ],
                scores: [0, 1, 2, 2]
            }
        ];

        // ë‹¤í¬ MBTI ìœ í˜• ë°ì´í„°
        const darkMbtiTypes = [
            {
                type: "INTJ-D",
                name: "ì•”í‘ êµ°ì£¼",
                description: "ëª¨ë“  ê²ƒì€ ë‚´ ê²Œì„ì˜ í”¼ìŠ¤ì¼ ë¿. ì¸ê°„ ê´€ê³„ë¥¼ í™•ë¥  ëª¨ë¸ë¡œ ë¶„ì„í•˜ë©° ê°ì • ëŒ€ì‹  ìµœì í™” ì•Œê³ ë¦¬ì¦˜ì„ ì ìš©í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 90,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 70,
                    "ë°˜ì‚¬íšŒì„±": 60
                },
                danger: 4.5
            },
            {
                type: "INTP-P",
                name: "ì‹¤í—˜ì  ì†Œì‹œì˜¤íŒ¨ìŠ¤",
                description: "ì¸ê°„ì€ ì›€ì§ì´ëŠ” ì‹¤í—˜ì²´ë‹¤. ë„ë•ì  ì¥ë²½ì´ ì—°êµ¬ ëŒ€ìƒìœ¼ë¡œë§Œ ê¸°ëŠ¥í•˜ë©° ì‚¬íšŒì  ê·œë²”ì„ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 80,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 50,
                    "ë°˜ì‚¬íšŒì„±": 70
                },
                danger: 4
            },
            {
                type: "ENTJ-M",
                name: "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ ì œì™•",
                description: "ëª©ì ì€ ìˆ˜ë‹¨ì„ ì •ë‹¹í™”í•œë‹¤. ê¶Œë ¥ íšë“ì„ ìœ„í•œ ì •ì‹ ì  í•™ì‚´ì„ ìš©ì¸í•˜ë©° í˜‘ë ¥ì„ ì¼ì‹œì  ì „ìˆ ì  ë™ë§¹ìœ¼ë¡œ ë´…ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 95,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 85,
                    "ë°˜ì‚¬íšŒì„±": 75
                },
                danger: 5
            },
            {
                type: "ENTP-C",
                name: "ì¹´ì˜¤ìŠ¤ ë©”ì´ì»¤",
                description: "ë¬´ë„ˆì§„ ì§ˆì„œ ì†ì—ì„œ ì¶¤ì¶”ëŠ” ì. ì‚¬íšŒì  í˜¼ë€ì„ ì˜¤ë½ìœ¼ë¡œ ì¶”êµ¬í•˜ë©° ê°€ìŠ¤ë¼ì´íŒ…ì„ ì˜ˆìˆ  ìˆ˜ì¤€ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 85,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 75,
                    "ë°˜ì‚¬íšŒì„±": 60
                },
                danger: 3.5
            },
            {
                type: "INFJ-N",
                name: "ì–´ë‘ ì˜ êµ¬ì›ì",
                description: "ë„ˆì˜ ì–´ë‘ ì€ ë‚´ê°€ ë¨¹ì´ê² ë‹¤. íƒ€ì¸ì˜ íŠ¸ë¼ìš°ë§ˆë¥¼ ì •ì‹ ì  ì§€ë°°ë¡œ ì—°ê²°í•˜ë©° êµ¬ì›ì ì½¤í”Œë ‰ìŠ¤ê°€ ì°©ì·¨ë¡œ ë³€ì§ˆë©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 70,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 80,
                    "ë°˜ì‚¬íšŒì„±": 50
                },
                danger: 3.5
            },
            {
                type: "INFP-V",
                name: "ìˆœìˆ˜í•œ ë³µìˆ˜ê·€",
                description: "ìƒì²˜ë°›ì€ ì´ìƒì£¼ì˜ìëŠ” ê°€ì¥ ìœ„í—˜í•˜ë‹¤. ì‹ ë… ë°°ë°˜ ì‹œ ì”ì¸í•œ ì‘ì§•ì„ í•˜ë©° ê°ì •ì  ìƒì²˜ë¥¼ ì°½ì¡°ì  íŒŒê´´ë¡œ ì „í™˜í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 60,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 65,
                    "ë°˜ì‚¬íšŒì„±": 55
                },
                danger: 3
            },
            {
                type: "ENFJ-C",
                name: "ì»¬íŠ¸ ë¦¬ë”",
                description: "ë‚´ê°€ ì •ì˜ë‹¤. ì¹´ë¦¬ìŠ¤ë§ˆë¥¼ ì •ì‹ ì  ì¢…ì† ë„êµ¬ë¡œ ì‚¬ìš©í•˜ë©° ì¶”ì¢…ìì˜ ìì•„ í•´ì²´ë¥¼ ìœ ë„í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 75,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 90,
                    "ë°˜ì‚¬íšŒì„±": 65
                },
                danger: 4
            },
            {
                type: "ENFP-M",
                name: "ë§¤ë‹ˆí“°ë ˆì´í„°",
                description: "ì‚¬ë‘ì€ ê°€ì¥ ì™„ë²½í•œ ì†ì„ìˆ˜ë‹¤. ë‚™ì²œì  ì´ë¯¸ì§€ë¡œ ì˜ì¡´ì„± ì¡°ì„±í•˜ë©° ê°ì •ì  ì°©ì·¨ë¥¼ ê²Œì„ì²˜ëŸ¼ ì‹¤í–‰í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 70,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 80,
                    "ë°˜ì‚¬íšŒì„±": 50
                },
                danger: 2.5
            },
            {
                type: "ISTJ-E",
                name: "ì—„ê²©í•œ ì¬íŒê´€",
                description: "ê·œì¹™ì„ ì–´ê¸´ ìëŠ” ì†Œë©¸ë˜ì–´ì•¼ í•œë‹¤. ì™„ë²½ì£¼ì˜ê°€ ì”ì¸í•œ ì‘ë³´ë¡œ ì—°ê²°ë˜ë©° ë„ë•ì  ì²­ì‚°ì— ì§‘ì°©í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 65,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 60,
                    "ë°˜ì‚¬íšŒì„±": 70
                },
                danger: 3
            },
            {
                type: "ISFJ-S",
                name: "ì¹¨ë¬µì˜ ê°ì‹œì",
                description: "ë³´í˜¸ëŠ” í†µì œì˜ ë‹¤ë¥¸ ì´ë¦„ì´ë‹¤. í¬ìƒì„ ì •ì‹ ì  ì¡±ì‡„ë¡œ ì „í™˜í•˜ë©° ì˜ì¡´ì  ê´€ê³„ì— ì§‘ì°©í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 50,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 60,
                    "ë°˜ì‚¬íšŒì„±": 40
                },
                danger: 2
            },
            {
                type: "ESTJ-T",
                name: "ì² ê¶Œ í†µì¹˜ì",
                description: "ì €í•­ì€ ë¹„íš¨ìœ¨ì´ë‹¤. íš¨ìœ¨ì„±ì„ ëª…ë¶„ìœ¼ë¡œ ì¸ê¶Œì„ ë¬´ì‹œí•˜ë©° ê¶Œìœ„ì£¼ì˜ì  í­ë ¥ì„ ì •ë‹¹í™”í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 80,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 75,
                    "ë°˜ì‚¬íšŒì„±": 70
                },
                danger: 4
            },
            {
                type: "ESFJ-P",
                name: "ì¸ê¸° ì¡°ì‘ì",
                description: "ë„ˆì˜ ì‚¬ë‘ì€ ë‚´ê°€ ë§Œë“  í™˜ìƒì´ë‹¤. ì‚¬íšŒì  ì§€ìœ„ë¥¼ ìœ„í•´ ê°€ë©´ì„ ì‚¬ìš©í•˜ë©° í—ˆìœ„ ì •ì²´ì„±ì— ëŠ¥ìˆ™í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 65,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 85,
                    "ë°˜ì‚¬íšŒì„±": 50
                },
                danger: 2.5
            },
            {
                type: "ISTP-K",
                name: "ëƒ‰í˜ˆí•œ í‚¬ëŸ¬",
                description: "ì‚´ì•„ìˆëŠ” ê¸°ê³„ëŠ” ê°ì •ì´ í•„ìš” ì—†ë‹¤. ìœ„ê¸° ìƒí™©ì—ì„œ ë°˜ì‚¬íšŒì  í–‰ë™ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë©° ë¬¼ë¦¬ì  í­ë ¥ì„ ë„êµ¬ë¡œ ì¸ì‹í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 75,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 60,
                    "ë°˜ì‚¬íšŒì„±": 85
                },
                danger: 4
            },
            {
                type: "ISFP-R",
                name: "ë‚­ë§Œì  íŒŒê´´ì",
                description: "ì•„ë¦„ë‹¤ìš´ íŒŒê´´ëŠ” ì˜ˆìˆ ì´ë‹¤. ìê¸° íŒŒê´´ë¥¼ ë¯¸í•™ìœ¼ë¡œ ìŠ¹í™”ì‹œí‚¤ë©° ì¶©ë™ì  ë²”ì£„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 55,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 70,
                    "ë°˜ì‚¬íšŒì„±": 60
                },
                danger: 2.5
            },
            {
                type: "ESTP-D",
                name: "ë„ë°•ì‚¬",
                description: "ì¸ìƒì€ ì›ìƒ· ì›í‚¬ ê²Œì„. ìœ„í—˜ì„ ì¤‘ë…ì„±ìœ¼ë¡œ ì¸ì‹í•˜ë©° ë²•ì  íšŒìƒ‰ì§€ëŒ€ë¥¼ íƒí—˜í•©ë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 70,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 75,
                    "ë°˜ì‚¬íšŒì„±": 65
                },
                danger: 3
            },
            {
                type: "ESFP-V",
                name: "í—ˆì˜ì˜ ê´´ë¬¼",
                description: "ê´€ì‹¬ì€ ë‚˜ì˜ ì‚°ì†Œë‹¤. ê´€ì‹¬ ê°ˆì¦ì´ ë„ë•ì  íƒ€ë½ìœ¼ë¡œ ì—°ê²°ë˜ë©° ê³¼ì‹œì  ë²”ì£„ ê°€ëŠ¥ì„±ì´ ìˆìŠµë‹ˆë‹¤.",
                traits: {
                    "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": 60,
                    "ë‚˜ë¥´ì‹œì‹œì¦˜": 90,
                    "åì‚¬íšŒæ€§": 55
                },
                danger: 2
            }
        ];

        // ë³€ìˆ˜ ì´ˆê¸°í™”
        let currentQuestion = 0;
        let answers = [];
        const testContainer = document.getElementById('test-container');
        const submitBtn = document.getElementById('submit-btn');
        const resultContainer = document.getElementById('result-container');

        // í…ŒìŠ¤íŠ¸ ë Œë”ë§
        function renderQuestion() {
            testContainer.innerHTML = '';
            
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container';
            
            const questionText = document.createElement('div');
            questionText.className = 'question';
            questionText.textContent = questions[currentQuestion].question;
            questionDiv.appendChild(questionText);
            
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options';
            
            questions[currentQuestion].options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                optionDiv.textContent = option;
                optionDiv.dataset.index = index;
                
                optionDiv.addEventListener('click', function() {
                    // ê¸°ì¡´ ì„ íƒ í•´ì œ
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // í˜„ì¬ ì„ íƒ í™œì„±í™”
                    this.classList.add('selected');
                    
                    // ë‹µë³€ ì €ì¥
                    answers[currentQuestion] = parseInt(this.dataset.index);
                    
                    // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™” í™•ì¸
                    checkAllAnswered();
                });
                
                optionsDiv.appendChild(optionDiv);
            });
            
            questionDiv.appendChild(optionsDiv);
            testContainer.appendChild(questionDiv);
            
            // ì§„í–‰ ìƒíƒœ í‘œì‹œ
            const progress = document.createElement('div');
            progress.style.marginTop = '20px';
            progress.style.color = '#aaa';
            progress.textContent = `ì§„í–‰ ìƒí™©: ${currentQuestion + 1}/${questions.length}`;
            testContainer.appendChild(progress);
            
            // ì´ì „/ë‹¤ìŒ ë²„íŠ¼ (ì²« ì§ˆë¬¸ ì œì™¸)
            if (currentQuestion > 0) {
                const prevBtn = document.createElement('button');
                prevBtn.textContent = 'ì´ì „ ì§ˆë¬¸';
                prevBtn.style.marginRight = '10px';
                prevBtn.style.display = 'inline-block';
                prevBtn.addEventListener('click', function() {
                    currentQuestion--;
                    renderQuestion();
                });
                testContainer.appendChild(prevBtn);
            }
            
            if (currentQuestion < questions.length - 1) {
                const nextBtn = document.createElement('button');
                nextBtn.textContent = 'ë‹¤ìŒ ì§ˆë¬¸';
                nextBtn.style.display = 'inline-block';
                nextBtn.addEventListener('click', function() {
                    if (answers[currentQuestion] !== undefined) {
                        currentQuestion++;
                        renderQuestion();
                    } else {
                        alert('ì˜µì…˜ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    }
                });
                testContainer.appendChild(nextBtn);
            }
        }

        // ëª¨ë“  ì§ˆë¬¸ì— ë‹µë³€í–ˆëŠ”ì§€ í™•ì¸
        function checkAllAnswered() {
            const allAnswered = answers.length === questions.length && answers.every(answer => answer !== undefined);
            submitBtn.disabled = !allAnswered;
        }

        // ê²°ê³¼ ê³„ì‚°
        function calculateResult() {
            let totalScore = 0;
            
            // ê° ë‹µë³€ì˜ ì ìˆ˜ í•©ì‚°
            answers.forEach((answerIndex, questionIndex) => {
                totalScore += questions[questionIndex].scores[answerIndex];
            });
            
            // ìµœëŒ€ ì ìˆ˜ ëŒ€ë¹„ ë°±ë¶„ìœ¨
            const maxScore = questions.length * 2;
            const percentage = (totalScore / maxScore) * 100;
            
            // ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œ ì ìˆ˜ ê³„ì‚°
            const traitScores = {
                "ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ": Math.min(100, Math.floor(percentage * 0.9)),
                "ë‚˜ë¥´ì‹œì‹œì¦˜": Math.min(100, Math.floor(percentage * 0.7)),
                "ë°˜ì‚¬íšŒì„±": Math.min(100, Math.floor(percentage * 0.6))
            };
            
            // MBTI ìœ í˜• ë§¤ì¹­ (ê°€ìƒì˜ ì•Œê³ ë¦¬ì¦˜ - ì‹¤ì œë¡œëŠ” ë” ë³µì¡í•œ ë¡œì§ í•„ìš”)
            const matchedTypes = darkMbtiTypes.map(type => {
                let similarity = 0;
                
                // ê° íŠ¸ë ˆì´íŠ¸ ìœ ì‚¬ë„ ê³„ì‚°
                similarity += 100 - Math.abs(traitScores["ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ"] - type.traits["ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ"]);
                similarity += 100 - Math.abs(traitScores["ë‚˜ë¥´ì‹œì‹œì¦˜"] - type.traits["ë‚˜ë¥´ì‹œì‹œì¦˜"]);
                similarity += 100 - Math.abs(traitScores["ë°˜ì‚¬íšŒì„±"] - type.traits["ë°˜ì‚¬íšŒì„±"]);
                
                return {
                    type: type.type,
                    name: type.name,
                    description: type.description,
                    danger: type.danger,
                    similarity: similarity / 3
                };
            });
            
            // ìœ ì‚¬ë„ ìˆœìœ¼ë¡œ ì •ë ¬
            matchedTypes.sort((a, b) => b.similarity - a.similarity);
            
            return {
                totalScore: totalScore,
                maxScore: maxScore,
                percentage: percentage,
                traits: traitScores,
                matchedTypes: matchedTypes,
                topType: matchedTypes[0]
            };
        }

        // ê²°ê³¼ í‘œì‹œ
        function showResult() {
            const result = calculateResult();
            
            resultContainer.innerHTML = `
                <div class="result-title">ë‹¹ì‹ ì˜ ë‹¤í¬ MBTI: ${result.topType.type} (${result.topType.name})</div>
                <div class="result-subtitle">"${result.topType.description}"</div>
                
                <div class="result-content">
                    <p>ë‹¹ì‹ ì˜ ë‹¤í¬ íŠ¸ë¼ì´ì–´ë“œ ì ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:</p>
                    
                    <div class="dark-traits">
                        <div class="trait">
                            <div class="trait-name">ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ</div>
                            <div class="trait-value">
                                <div class="trait-fill" style="width: ${result.traits["ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ"]}%"></div>
                            </div>
                            <div>${result.traits["ë§ˆí‚¤ì•„ë²¨ë¦¬ì•ˆ"]}%</div>
                        </div>
                        
                        <div class="trait">
                            <div class="trait-name">ë‚˜ë¥´ì‹œì‹œì¦˜</div>
                            <div class="trait-value">
                                <div class="trait-fill" style="width: ${result.traits["ë‚˜ë¥´ì‹œì‹œì¦˜"]}%"></div>
                            </div>
                            <div>${result.traits["ë‚˜ë¥´ì‹œì‹œì¦˜"]}%</div>
                        </div>
                        
                        <div class="trait">
                            <div class="trait-name">ë°˜ì‚¬íšŒì„±</div>
                            <div class="trait-value">
                                <div class="trait-fill" style="width: ${result.traits["ë°˜ì‚¬íšŒì„±"]}%"></div>
                            </div>
                            <div>${result.traits["ë°˜ì‚¬íšŒì„±"]}%</div>
                        </div>
                    </div>
                    
                    <div class="danger-level" style="margin-top: 30px;">
                        <div style="margin-bottom: 10px;">ìœ„í—˜ë„: ${'ğŸŒ‘'.repeat(Math.floor(result.topType.danger))}${'âšª'.repeat(5 - Math.floor(result.topType.danger))} (${result.topType.danger}/5)</div>
                        <div class="progress-container">
                            <div class="progress-bar" style="width: ${result.topType.danger * 20}%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="mbti-ranking">
                    <div class="ranking-title">ë‹¤í¬ MBTI ìœ í˜• ë§¤ì¹­ ìˆœìœ„</div>
                    
                    ${result.matchedTypes.slice(0, 5).map((type, index) => `
                        <div class="ranking-item">
                            <div>
                                <span class="ranking-type">${type.type} (${type.name})</span>
                                <span class="ranking-score">${type.similarity.toFixed(1)}%</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: ${type.similarity}%"></div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                <div class="dark-message">
                    "ì•…ì€ íƒœì–´ë‚˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ê°ì„±í•˜ëŠ” ê²ƒì´ë‹¤. ì´ ê²°ê³¼ëŠ” ë‹¹ì‹ ì˜ ì ì¬ì  ê°€ëŠ¥ì„±ì„ ë³´ì—¬ì¤„ ë¿ì…ë‹ˆë‹¤."
                </div>
                
                <button class="restart-btn" onclick="location.reload()">í…ŒìŠ¤íŠ¸ ë‹¤ì‹œí•˜ê¸°</button>
            `;
            
            resultContainer.style.display = 'block';
            testContainer.style.display = 'none';
            submitBtn.style.display = 'none';
            
            // ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°
            setTimeout(() => {
                document.querySelectorAll('.trait-fill, .progress-bar').forEach(bar => {
                    bar.style.width = bar.style.width;
                });
            }, 100);
        }

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        submitBtn.addEventListener('click', showResult);

        // ì´ˆê¸° ë Œë”ë§
        renderQuestion();
    </script>
</body>
</html>