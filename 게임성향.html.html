<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배틀그라운드 성향 테스트</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&display=swap');
        
        :root {
            --main-color: #4a7729;
            --secondary-color: #8b9e3b;
            --accent-color: #e6b422;
            --dark-color: #1a1a1a;
            --light-color: #f0f0f0;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Do Hyeon', sans-serif;
            background-color: #111;
            color: white;
            background-image: url('https://i.imgur.com/JQJZQJq.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-in-out;
        }
        
        .header h1 {
            font-family: 'Black Han Sans', sans-serif;
            font-size: 3rem;
            color: var(--accent-color);
            text-shadow: 3px 3px 0px var(--main-color), 6px 6px 0px rgba(0,0,0,0.2);
            margin-bottom: 10px;
            letter-spacing: 2px;
        }
        
        .header p {
            font-size: 1.2rem;
            color: #ccc;
        }
        
        .test-container {
            background-color: rgba(30, 30, 30, 0.9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.5);
            margin-bottom: 30px;
            border: 2px solid var(--main-color);
            transition: all 0.3s ease;
        }
        
        .test-container:hover {
            box-shadow: 0 15px 30px rgba(0,0,0,0.7);
            transform: translateY(-5px);
        }
        
        .question {
            margin-bottom: 25px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .question.active {
            display: block;
        }
        
        .question h3 {
            font-size: 1.5rem;
            color: var(--accent-color);
            margin-bottom: 15px;
            border-left: 5px solid var(--main-color);
            padding-left: 15px;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
        }
        
        .option {
            background-color: rgba(50, 50, 50, 0.7);
            border: 2px solid #444;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }
        
        .option:hover {
            background-color: rgba(70, 70, 70, 0.7);
            border-color: var(--secondary-color);
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: rgba(74, 119, 41, 0.3);
            border-color: var(--main-color);
            box-shadow: 0 0 10px rgba(74, 119, 41, 0.5);
        }
        
        .option.selected::after {
            content: "✔";
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent-color);
        }
        
        .progress-container {
            width: 100%;
            background-color: #333;
            border-radius: 10px;
            margin: 20px 0;
            height: 15px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--main-color), var(--secondary-color));
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        button {
            background-color: var(--main-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-family: 'Do Hyeon', sans-serif;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 0 rgba(0,0,0,0.2);
        }
        
        button:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 6px 0 rgba(0,0,0,0.2);
        }
        
        button:active {
            transform: translateY(2px);
            box-shadow: 0 2px 0 rgba(0,0,0,0.2);
        }
        
        button:disabled {
            background-color: #444;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .result-container {
            display: none;
            animation: fadeIn 1s ease-in-out;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .result-header h2 {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px var(--main-color);
        }
        
        .result-type {
            font-size: 2rem;
            color: var(--accent-color);
            margin-bottom: 20px;
            text-align: center;
        }
        
        .result-image {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            border-radius: 50%;
            border: 5px solid var(--main-color);
            overflow: hidden;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            animation: pulse 2s infinite;
        }
        
        .result-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .result-description {
            background-color: rgba(40, 40, 40, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--accent-color);
        }
        
        .result-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            background-color: rgba(50, 50, 50, 0.7);
            border-radius: 8px;
            padding: 15px;
            border-bottom: 3px solid var(--main-color);
        }
        
        .stat-item h4 {
            color: var(--accent-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .result-rankings {
            margin-top: 30px;
        }
        
        .ranking-item {
            background-color: rgba(30, 30, 30, 0.8);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 5px solid var(--secondary-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .ranking-item:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .ranking-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .ranking-title h3 {
            color: var(--accent-color);
            font-size: 1.3rem;
        }
        
        .ranking-score {
            background-color: var(--main-color);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }
        
        .ranking-description {
            color: #ccc;
        }
        
        .compatibility {
            margin-top: 30px;
            background-color: rgba(40, 40, 40, 0.8);
            border-radius: 10px;
            padding: 20px;
        }
        
        .compatibility h3 {
            color: var(--accent-color);
            margin-bottom: 15px;
            font-size: 1.5rem;
            text-align: center;
        }
        
        .compatibility-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .compat-item {
            background-color: rgba(60, 60, 60, 0.7);
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .compat-item:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
        }
        
        .compat-type {
            font-weight: bold;
            margin-bottom: 5px;
            color: var(--accent-color);
        }
        
        .compat-score {
            color: #fff;
            font-size: 0.9rem;
        }
        
        .restart-btn {
            display: block;
            margin: 30px auto 0;
            background-color: var(--secondary-color);
            padding: 15px 30px;
            font-size: 1.2rem;
        }
        
        .floating-items {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }
        
        .floating-item {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            opacity: 0.1;
            animation: float 15s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideIn {
            from { 
                opacity: 0;
                transform: translateX(50px);
            }
            to { 
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .collapsible {
            cursor: pointer;
            padding: 15px;
            background-color: rgba(50, 50, 50, 0.7);
            border: none;
            text-align: left;
            outline: none;
            font-size: 1.2rem;
            color: white;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
            position: relative;
            font-family: 'Do Hyeon', sans-serif;
        }
        
        .collapsible:hover {
            background-color: rgba(70, 70, 70, 0.7);
        }
        
        .collapsible::after {
            content: '+';
            font-size: 1.5rem;
            color: var(--accent-color);
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .collapsible.active::after {
            content: '-';
        }
        
        .content {
            padding: 0 15px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: rgba(40, 40, 40, 0.5);
            border-radius: 0 0 8px 8px;
            margin-bottom: 15px;
        }
        
        .emoji {
            font-size: 1.5rem;
            margin-right: 10px;
            vertical-align: middle;
        }
        
        /* 반응형 디자인 */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .test-container {
                padding: 15px;
            }
            
            .question h3 {
                font-size: 1.2rem;
            }
            
            .option {
                padding: 12px;
                font-size: 1rem;
            }
            
            .result-stats {
                grid-template-columns: 1fr;
            }
            
            .compatibility-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="floating-items" id="floatingItems"></div>
    
    <div class="container">
        <div class="header">
            <h1>🎯 배틀그라운드 성향 테스트 🎮</h1>
            <p>당신의 배그 플레이 스타일을 분석하고 팀원과의 궁합을 확인해보세요!</p>
        </div>
        
        <div class="test-container" id="testContainer">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <!-- 질문들 -->
            <div class="question active" id="question1">
                <h3>1. 게임 시작 시 당신의 첫 행동은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(1, 1)">🔥 핫 드랍! 위험한 지역으로 바로 떨어져서 전투 시작</div>
                    <div class="option" onclick="selectOption(1, 2)">🏠 중간 정도 위험 지역에서 장비를 충분히 모으고 이동</div>
                    <div class="option" onclick="selectOption(1, 3)">🌲 아무도 안 오는 외진 곳에서 조용히 장비 모으기</div>
                    <div class="option" onclick="selectOption(1, 4)">🗺️ 상황을 보고 팀원들과 상의하여 결정</div>
                </div>
            </div>
            
            <div class="question" id="question2">
                <h3>2. 전투 중 갑자기 적을 발견했을 때 당신의 반응은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(2, 1)">💥 바로 사격 개시! 선제 공격이 최고의 방어</div>
                    <div class="option" onclick="selectOption(2, 2)">🎯 위치를 확인하고 정확한 조준 후 사격</div>
                    <div class="option" onclick="selectOption(2, 3)">👀 일단 숨고 상황을 관찰한 후 결정</div>
                    <div class="option" onclick="selectOption(2, 4)">📢 팀원들에게 알리고 협동 작전 구상</div>
                </div>
            </div>
            
            <div class="question" id="question3">
                <h3>3. 팀원이 다운되었을 때 당신의 선택은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(3, 1)">⚔️ 주변 적들 먼저 처리하고 구출</div>
                    <div class="option" onclick="selectOption(3, 2)">🛡️ 연막탄 던지고 안전하게 구출</div>
                    <div class="option" onclick="selectOption(3, 3)">🏃‍♂️ 위험하다고 판단되면 일단 후퇴</div>
                    <div class="option" onclick="selectOption(3, 4)">🔄 팀원들과 역할 분담하여 구출 작전 실행</div>
                </div>
            </div>
            
            <div class="question" id="question4">
                <h3>4. 게임에서 가장 중요하게 생각하는 것은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(4, 1)">🏆 킬 수와 화려한 플레이</div>
                    <div class="option" onclick="selectOption(4, 2)">🎖️ 전략적 판단과 정확한 실행</div>
                    <div class="option" onclick="selectOption(4, 3)">🥇 생존과 최종 순위</div>
                    <div class="option" onclick="selectOption(4, 4)">🤝 팀워크와 협동</div>
                </div>
            </div>
            
            <div class="question" id="question5">
                <h3>5. 블루존이 다가오는데 아직 전투 중이라면?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(5, 1)">💣 전투를 끝내고 블루존을 맞을 각오로 계속 싸움</div>
                    <div class="option" onclick="selectOption(5, 2)">⏱️ 시간 계산 후 최대한 효율적으로 이동</div>
                    <div class="option" onclick="selectOption(5, 3)">🏃‍♂️ 바로 전투 포기하고 존으로 이동</div>
                    <div class="option" onclick="selectOption(5, 4)">🗣️ 팀원들과 상황 공유 후 집단 결정</div>
                </div>
            </div>
            
            <div class="question" id="question6">
                <h3>6. 이상적인 무기 조합은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(6, 1)">🔫 AR + 산탄총 (근접 전투 전문가)</div>
                    <div class="option" onclick="selectOption(6, 2)">🎯 저격총 + AR (원거리 전문가)</div>
                    <div class="option" onclick="selectOption(6, 3)">🧩 상황에 따라 유연하게 변경 (생존 전문가)</div>
                    <div class="option" onclick="selectOption(6, 4)">🔄 팀원들과 조합을 맞춰서 선택 (팀 플레이어)</div>
                </div>
            </div>
            
            <div class="question" id="question7">
                <h3>7. 게임 중 가장 스트레스를 받는 상황은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(7, 1)">😤 오랜 시간 적을 찾지 못해 지루할 때</div>
                    <div class="option" onclick="selectOption(7, 2)">🤯 예상치 못한 변수로 계획이 틀어질 때</div>
                    <div class="option" onclick="selectOption(7, 3)">😨 숨어있다가 갑자기 적에게 발견될 때</div>
                    <div class="option" onclick="selectOption(7, 4)">😠 팀원들이 제대로 소통하지 않을 때</div>
                </div>
            </div>
            
            <div class="question" id="question8">
                <h3>8. 게임에서 가장 잘하는 역할은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(8, 1)">⚔️ 돌격대장 - 팀의 공격을 주도</div>
                    <div class="option" onclick="selectOption(8, 2)">🎯 저격수 - 원거리에서 적 제거</div>
                    <div class="option" onclick="selectOption(8, 3)">👣 정찰병 - 적 위치 파악 및 정보 수집</div>
                    <div class="option" onclick="selectOption(8, 4)">🛡️ 서포터 - 팀원 보조 및 구출</div>
                </div>
            </div>
            
            <div class="question" id="question9">
                <h3>9. 게임 중 가장 자주 사용하는 아이템은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(9, 1)">💣 수류탄/화염병 (공격용 소모품)</div>
                    <div class="option" onclick="selectOption(9, 2)">🔭 4배율/8배율 스코프 (정확한 조준)</div>
                    <div class="option" onclick="selectOption(9, 3)">🏥 구급품/부스트 아이템 (생존용)</div>
                    <div class="option" onclick="selectOption(9, 4)">🎆 연막탄/플래시뱅 (팀 플레이용)</div>
                </div>
            </div>
            
            <div class="question" id="question10">
                <h3>10. 팀원과의 의견이 다를 때 당신의 반응은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(10, 1)">👑 내 방식이 최고라고 확신하고 주장</div>
                    <div class="option" onclick="selectOption(10, 2)">📊 데이터와 논리로 설득 시도</div>
                    <div class="option" onclick="selectOption(10, 3)">🙏 갈등을 피하기 위해 양보</div>
                    <div class="option" onclick="selectOption(10, 4)">🤔 팀원들의 의견을 종합해 최선의 선택 찾기</div>
                </div>
            </div>
            
            <div class="question" id="question11">
                <h3>11. 게임에서 가장 큰 만족감을 느끼는 순간은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(11, 1)">🔥 화려한 플레이로 여러 적을 연속으로 처치할 때</div>
                    <div class="option" onclick="selectOption(11, 2)">🎯 완벽한 계획이 성공적으로 실행될 때</div>
                    <div class="option" onclick="selectOption(11, 3)">🏆 오랫동안 숨었다가 승리할 때</div>
                    <div class="option" onclick="selectOption(11, 4)">🤝 팀원들과의 완벽한 협동으로 승리할 때</div>
                </div>
            </div>
            
            <div class="question" id="question12">
                <h3>12. 게임 중 가장 자주 하는 말은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(12, 1)">"가자! 바로 싸우자!"</div>
                    <div class="option" onclick="selectOption(12, 2)">"적 위치 165도, 200미터, 움직임 없음"</div>
                    <div class="option" onclick="selectOption(12, 3)">"조용히 하자, 우리 위치 들킬 거야"</div>
                    <div class="option" onclick="selectOption(12, 4)">"너희는 어떻게 할래? 내 생각은..."</div>
                </div>
            </div>
            
            <div class="question" id="question13">
                <h3>13. 게임에서 가장 자주 타는 차량은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(13, 1)">🏍️ 오토바이 (빠른 이동과 돌격)</div>
                    <div class="option" onclick="selectOption(13, 2)">🚗 UAZ (안정적인 이동과 엄폐)</div>
                    <div class="option" onclick="selectOption(13, 3)">🚙 차량을 최대한 피하고 걸어다님</div>
                    <div class="option" onclick="selectOption(13, 4)">🚐 팀원들과 함께 탈 수 있는 큰 차량</div>
                </div>
            </div>
            
            <div class="question" id="question14">
                <h3>14. 마지막 존에서의 전략은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(14, 1)">⚔️ 남은 적들을 찾아서 모두 처치</div>
                    <div class="option" onclick="selectOption(14, 2)">🎯 최적의 위치를 점령하고 적을 유인</div>
                    <div class="option" onclick="selectOption(14, 3)">🌿 최대한 숨어서 다른 팀들이 싸우길 기다림</div>
                    <div class="option" onclick="selectOption(14, 4)">🔄 팀원들과 역할을 분담해 상황 대처</div>
                </div>
            </div>
            
            <div class="question" id="question15">
                <h3>15. 게임에서 당신의 가장 큰 강점은?</h3>
                <div class="options">
                    <div class="option" onclick="selectOption(15, 1)">💪 근접 전투와 빠른 반사 신경</div>
                    <div class="option" onclick="selectOption(15, 2)">🧠 전략적 사고와 정확한 판단</div>
                    <div class="option" onclick="selectOption(15, 3)">👁️ 주변 상황 인식과 위험 회피</div>
                    <div class="option" onclick="selectOption(15, 4)">🗣️ 팀원들과의 소통과 리더십</div>
                </div>
            </div>
            
            <div class="navigation">
                <button id="prevBtn" onclick="prevQuestion()" disabled>이전</button>
                <button id="nextBtn" onclick="nextQuestion()" disabled>다음</button>
            </div>
        </div>
        
        <div class="result-container" id="resultContainer">
            <div class="result-header">
                <h2>당신의 배틀그라운드 성향 결과</h2>
                <p>테스트를 완료해주셔서 감사합니다!</p>
            </div>
            
            <div class="result-type" id="resultType"></div>
            
            <div class="result-image">
                <img id="resultImage" src="" alt="결과 이미지">
            </div>
            
            <div class="result-description" id="resultDescription"></div>
            
            <div class="result-stats">
                <div class="stat-item">
                    <h4>공격성 점수</h4>
                    <div class="progress-container">
                        <div class="progress-bar" id="attackScore"></div>
                    </div>
                    <p id="attackText"></p>
                </div>
                <div class="stat-item">
                    <h4>전략성 점수</h4>
                    <div class="progress-container">
                        <div class="progress-bar" id="strategyScore"></div>
                    </div>
                    <p id="strategyText"></p>
                </div>
                <div class="stat-item">
                    <h4>생존력 점수</h4>
                    <div class="progress-container">
                        <div class="progress-bar" id="survivalScore"></div>
                    </div>
                    <p id="survivalText"></p>
                </div>
                <div class="stat-item">
                    <h4>협동성 점수</h4>
                    <div class="progress-container">
                        <div class="progress-bar" id="teamworkScore"></div>
                    </div>
                    <p id="teamworkText"></p>
                </div>
            </div>
            
            <button class="collapsible">📊 자세한 성향 분석 보기</button>
            <div class="content" id="detailedAnalysis"></div>
            
            <button class="collapsible">🏆 모든 성향 유형 순위 보기</button>
            <div class="content" id="allTypesRanking"></div>
            
            <button class="collapsible">💞 팀원 궁합 보기</button>
            <div class="content" id="compatibilityInfo"></div>
            
            <button class="restart-btn" onclick="restartTest()">테스트 다시 하기</button>
        </div>
    </div>

    <script>
        // 현재 질문 번호
        let currentQuestion = 1;
        const totalQuestions = 15;
        
        // 사용자 답변 저장
        const answers = {};
        
        // 플로팅 아이템 생성
        function createFloatingItems() {
            const floatingItems = document.getElementById('floatingItems');
            const items = ['🔫', '🎯', '🏥', '💣', '🔭', '🏆', '⚔️', '🛡️', '🏍️', '🚗'];
            
            for (let i = 0; i < 20; i++) {
                const item = document.createElement('div');
                item.className = 'floating-item';
                item.textContent = items[Math.floor(Math.random() * items.length)];
                item.style.left = Math.random() * 100 + 'vw';
                item.style.top = Math.random() * 100 + 'vh';
                item.style.fontSize = (Math.random() * 20 + 10) + 'px';
                item.style.animationDuration = (Math.random() * 20 + 10) + 's';
                item.style.animationDelay = Math.random() * 5 + 's';
                floatingItems.appendChild(item);
            }
        }
        
        // 옵션 선택 함수
        function selectOption(questionNum, optionNum) {
            // 기존 선택 해제
            const options = document.querySelectorAll(`#question${questionNum} .option`);
            options.forEach(option => option.classList.remove('selected'));
            
            // 새 선택 적용
            const selectedOption = document.querySelector(`#question${questionNum} .option:nth-child(${optionNum})`);
            selectedOption.classList.add('selected');
            
            // 답변 저장
            answers[questionNum] = optionNum;
            
            // 다음 버튼 활성화
            document.getElementById('nextBtn').disabled = false;
        }
        
        // 다음 질문으로 이동
        function nextQuestion() {
            if (currentQuestion < totalQuestions) {
                document.getElementById(`question${currentQuestion}`).classList.remove('active');
                currentQuestion++;
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                updateProgress();
                updateNavigation();
            } else {
                showResults();
            }
        }
        
        // 이전 질문으로 이동
        function prevQuestion() {
            if (currentQuestion > 1) {
                document.getElementById(`question${currentQuestion}`).classList.remove('active');
                currentQuestion--;
                document.getElementById(`question${currentQuestion}`).classList.add('active');
                updateProgress();
                updateNavigation();
            }
        }
        
        // 진행 상황 업데이트
        function updateProgress() {
            const progress = (currentQuestion / totalQuestions) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            
            // 이전/다음 버튼 상태 업데이트
            updateNavigation();
        }
        
        // 네비게이션 버튼 상태 업데이트
        function updateNavigation() {
            document.getElementById('prevBtn').disabled = currentQuestion === 1;
            
            // 현재 질문에 답변을 했는지 확인
            const answered = answers[currentQuestion] !== undefined;
            document.getElementById('nextBtn').disabled = !answered;
            
            // 마지막 질문일 때 버튼 텍스트 변경
            if (currentQuestion === totalQuestions) {
                document.getElementById('nextBtn').textContent = '결과 보기';
            } else {
                document.getElementById('nextBtn').textContent = '다음';
            }
        }
        
        // 결과 계산 및 표시
        function showResults() {
            // 점수 계산 (1: 공격성, 2: 전략성, 3: 생존력, 4: 협동성)
            const scores = {1: 0, 2: 0, 3: 0, 4: 0};
            
            for (const questionNum in answers) {
                const answer = answers[questionNum];
                scores[answer]++;
            }
            
            // 총점 계산
            const totalScore = scores[1] + scores[2] + scores[3] + scores[4];
            
            // 백분율로 변환
            const attackPercent = Math.round((scores[1] / totalScore) * 100);
            const strategyPercent = Math.round((scores[2] / totalScore) * 100);
            const survivalPercent = Math.round((scores[3] / totalScore) * 100);
            const teamworkPercent = Math.round((scores[4] / totalScore) * 100);
            
            // 결과 유형 결정
            let resultType = '';
            let resultImage = '';
            let resultDescription = '';
            
            const maxScore = Math.max(...Object.values(scores));
            const maxTypes = [];
            
            for (const type in scores) {
                if (scores[type] === maxScore) {
                    maxTypes.push(parseInt(type));
                }
            }
            
            // 유형 결정
            if (maxTypes.includes(1) && maxTypes.includes(2)) {
                resultType = '⚔️ 전투 전략가 ⚔️';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 전투와 전략을 모두 중시하는 완벽한 전투 전략가입니다! 화려한 플레이와 치밀한 전략을 결합하여 적들을 제압합니다. 돌격과 저격 모두에서 뛰어난 실력을 보이며, 팀의 승리를 이끄는 핵심 멤버입니다.';
            } 
            else if (maxTypes.includes(1) && maxTypes.includes(3)) {
                resultType = '🏹 기회주의자 🏹';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 기회를 잘 포착하는 기회주의자입니다! 위험을 무릅쓰지 않지만, 결정적인 순간에는 과감하게 행동합니다. 적절한 타이밍에 공격을 가해 큰 성과를 올리는 스타일입니다.';
            }
            else if (maxTypes.includes(1) && maxTypes.includes(4)) {
                resultType = '🛡️ 돌격 리더 🛡️';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 팀을 이끄는 돌격 리더입니다! 공격성을 바탕으로 팀을 이끌며, 팀원들과의 협동을 중시합니다. 전투에서 앞장서지만 팀원들을 배려하는 리더십을 가지고 있습니다.';
            }
            else if (maxTypes.includes(2) && maxTypes.includes(3)) {
                resultType = '🎯 계산적인 생존자 🎯';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 모든 것을 계산하는 생존자입니다! 전략적으로 행동하며 위험을 최소화합니다. 정확한 판단으로 최적의 타이밍에 행동하여 높은 생존율을 자랑합니다.';
            }
            else if (maxTypes.includes(2) && maxTypes.includes(4)) {
                resultType = '🧠 전술 사령관 🧠';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 팀의 전술을 책임지는 사령관입니다! 뛰어난 전략적 사고로 팀을 이끌며, 팀원들의 강점을 최대한 활용합니다. 체계적인 작전으로 승리를 이끄는 지휘관 타입입니다.';
            }
            else if (maxTypes.includes(3) && maxTypes.includes(4)) {
                resultType = '🕵️‍♂️ 지원 전문가 🕵️‍♂️';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 팀의 든든한 지원 전문가입니다! 위험을 피하면서도 팀원들을 잘 보조합니다. 구급품과 정보를 제공하며 팀의 생존률을 높이는 중요한 역할을 합니다.';
            }
            else if (maxTypes.includes(1)) {
                resultType = '🔥 돌격대원 🔥';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 불같은 성격의 돌격대원입니다! 공격적인 플레이를 선호하며, 적을 만나면 바로 전투를 걸죠. 높은 전투 능력을 바탕으로 화려한 플레이를 선보입니다. 승률보다는 재미와 스릴을 중요시합니다.';
            }
            else if (maxTypes.includes(2)) {
                resultType = '🎯 저격 전문가 🎯';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 냉철한 판단의 저격 전문가입니다! 전략적 사고와 정확한 실행력을 바탕으로 적을 제압합니다. 상황 분석과 위치 선정에 뛰어나며, 한 발 한 발 신중하게 행동합니다.';
            }
            else if (maxTypes.includes(3)) {
                resultType = '🌿 생존 전문가 🌿';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 위험을 잘 피하는 생존 전문가입니다! 조용히 움직이며 최대한 오래 생존하는 것을 목표로 합니다. 전투보다는 은신과 회피에 능숙하며, 종종 최후의 1인으로 남습니다.';
            }
            else if (maxTypes.includes(4)) {
                resultType = '🤝 팀 플레이어 🤝';
                resultImage = 'https://i.imgur.com/JQJZQJq.jpg';
                resultDescription = '당신은 팀워크를 중시하는 팀 플레이어입니다! 협동과 소통을 가장 중요하게 생각하며, 팀원들과의 조화를 이룹니다. 팀의 승리를 위해 자신을 희생할 줄도 아는 멋진 동료입니다.';
            }
            
            // 결과 표시
            document.getElementById('testContainer').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';
            
            document.getElementById('resultType').textContent = resultType;
            document.getElementById('resultImage').src = resultImage;
            document.getElementById('resultDescription').innerHTML = `<p>${resultDescription}</p>`;
            
            // 점수 표시
            document.getElementById('attackScore').style.width = attackPercent + '%';
            document.getElementById('strategyScore').style.width = strategyPercent + '%';
            document.getElementById('survivalScore').style.width = survivalPercent + '%';
            document.getElementById('teamworkScore').style.width = teamworkPercent + '%';
            
            document.getElementById('attackText').textContent = `공격성: ${attackPercent}점`;
            document.getElementById('strategyText').textContent = `전략성: ${strategyPercent}점`;
            document.getElementById('survivalText').textContent = `생존력: ${survivalPercent}점`;
            document.getElementById('teamworkText').textContent = `협동성: ${teamworkPercent}점`;
            
            // 자세한 분석 생성
            createDetailedAnalysis(scores);
            
            // 모든 유형 순위 생성
            createAllTypesRanking(scores);
            
            // 궁합 정보 생성
            createCompatibilityInfo(resultType);
        }
        
        // 자세한 분석 생성
        function createDetailedAnalysis(scores) {
            const analysis = document.getElementById('detailedAnalysis');
            analysis.innerHTML = `
                <h3>📊 당신의 플레이 스타일 분석</h3>
                <p>당신의 배틀그라운드 플레이 스타일을 더 자세히 분석해보았습니다:</p>
                
                <h4>⚔️ 전투 방식</h4>
                <p>${getCombatStyle(scores)}</p>
                
                <h4>🗺️ 이동 패턴</h4>
                <p>${getMovementPattern(scores)}</p>
                
                <h4>🎮 강점</h4>
                <p>${getStrengths(scores)}</p>
                
                <h4>⚠️ 약점</h4>
                <p>${getWeaknesses(scores)}</p>
                
                <h4>💡 추천 전략</h4>
                <p>${getRecommendedStrategy(scores)}</p>
                
                <h4>👥 팀에서의 역할</h4>
                <p>${getTeamRole(scores)}</p>
            `;
        }
        
        // 전투 방식 설명
        function getCombatStyle(scores) {
            const maxType = getMaxScoreType(scores);
            
            switch(maxType) {
                case 1:
                    return "당신은 공격적인 전투 스타일을 선호합니다. 근접 전투에서 특히 뛰어나며, 적을 만나면 바로 전투를 걸죠. 선제 공격을 좋아하고, 위험을 무릅쓰는 과감한 플레이가 특징입니다.";
                case 2:
                    return "당신은 전략적인 전투 스타일을 선호합니다. 충분한 준비와 계획 후에 행동하며, 원거리에서 정확한 사격으로 적을 제압합니다. 무모한 돌격보다는 계산된 움직임을 선호합니다.";
                case 3:
                    return "당신은 방어적인 전투 스타일을 선호합니다. 불필요한 전투를 피하며, 위험을 최소화하는 플레이가 특징입니다. 전투가 불가피한 경우에도 유리한 위치에서 싸우려고 합니다.";
                case 4:
                    return "당신은 팀 중심의 전투 스타일을 선호합니다. 팀원들과의 협동을 가장 중요시하며, 팀 전략에 따라 유연하게 행동합니다. 개인적인 영웅 플레이보다는 팀의 승리를 우선시합니다.";
                default:
                    return "당신은 균형 잡힌 전투 스타일을 가지고 있습니다. 상황에 따라 공격과 방어를 적절히 조절하며, 다양한 전투 방식을 활용합니다.";
            }
        }
        
        // 이동 패턴 설명
        function getMovementPattern(scores) {
            const maxType = getMaxScoreType(scores);
            
            switch(maxType) {
                case 1:
                    return "당신은 빠르고 직선적인 이동을 선호합니다. 핫 존으로 바로 떨어져서 전투를 시작하거나, 적극적으로 적을 찾아다니는 스타일입니다. 차량을 이용한 빠른 이동과 돌격을 즐깁니다.";
                case 2:
                    return "당신은 계획적인 이동을 선호합니다. 안전한 경로를 사전에 분석하고, 존의 변화를 미리 예측하여 이동합니다. 고지대와 전략적 요충지를 점령하는 것을 중요시합니다.";
                case 3:
                    return "당신은 신중한 이동을 선호합니다. 외곽 지역에서 시작해 조용히 존으로 이동하는 스타일입니다. 차량 사용을 최소화하고, 가능한 한 걸어서 조용히 이동합니다.";
                case 4:
                    return "당신은 팀과 함께하는 이동을 선호합니다. 팀원들과 붙어 다니며, 서로를 보호하면서 이동합니다. 팀원들의 위치와 상황을 고려하여 집단적으로 이동합니다.";
                default:
                    return "당신은 상황에 따라 다양한 이동 방식을 활용합니다. 때로는 빠르게, 때로는 신중하게 이동하며, 팀원들과의 협의도 중요하게 생각합니다.";
            }
        }
        
        // 강점 설명
        function getStrengths(scores) {
            const maxType = getMaxScoreType(scores);
            let strengths = [];
            
            if (scores[1] >= 4) strengths.push("빠른 반사 신경과 근접 전투 능력");
            if (scores[2] >= 4) strengths.push("전략적 사고와 정확한 판단력");
            if (scores[3] >= 4) strengths.push("뛰어난 상황 인식과 위험 회피 능력");
            if (scores[4] >= 4) strengths.push("팀원들과의 원활한 소통과 협동 능력");
            
            if (strengths.length === 0) strengths.push("균형 잡힌 다양한 능력");
            
            return strengths.join(", ") + " 등이 당신의 강점입니다. " + 
                "이러한 능력을 최대한 활용하면 게임에서 더 큰 성과를 낼 수 있을 거예요!";
        }
        
        // 약점 설명
        function getWeaknesses(scores) {
            const minType = getMinScoreType(scores);
            let weaknesses = [];
            
            if (scores[1] <= 2) weaknesses.push("너무 공격적이지 않아 기회를 놓칠 수 있음");
            if (scores[2] <= 2) weaknesses.push("계획 없이 행동해 예상치 못한 상황에 취약할 수 있음");
            if (scores[3] <= 2) weaknesses.push("생존에 너무 집중해 전투 기회를 놓칠 수 있음");
            if (scores[4] <= 2) weaknesses.push("팀플레이가 부족해 협동이 필요한 상황에 약할 수 있음");
            
            if (weaknesses.length === 0) weaknesses.push("특별히 두드러진 약점이 없음 - 모든 면에서 균형 잡힌 능력을 가지고 있음");
            
            return weaknesses.join(", ") + " 등이 당신의 약점일 수 있습니다. " + 
                "이 부분을 보완하면 더욱 완벽한 플레이어가 될 수 있을 거예요!";
        }
        
        // 추천 전략
        function getRecommendedStrategy(scores) {
            const maxType = getMaxScoreType(scores);
            const minType = getMinScoreType(scores);
            let recommendations = [];
            
            if (maxType === 1) {
                recommendations.push("때로는 전투를 조금 늦추고 상황을 판단하는 연습을 해보세요.");
                recommendations.push("과도한 돌격은 팀에게 부담을 줄 수 있으니 팀원들과의 협의를 중요시하세요.");
            }
            
            if (maxType === 2) {
                recommendations.push("완벽한 계획을 위해 너무 많은 시간을 소모하지 않도록 주의하세요.");
                recommendations.push("때로는 직감에 의존해 빠른 판단을 내리는 것도 중요합니다.");
            }
            
            if (maxType === 3) {
                recommendations.push("생존에만 집중하다 보면 재미와 승리 기회를 놓칠 수 있으니 적절한 공격 기회를 노려보세요.");
                recommendations.push("은신만으로는 게임을 이기기 어렵습니다. 전투 기술도 함께 향상시키는 것이 좋습니다.");
            }
            
            if (maxType === 4) {
                recommendations.push("팀원들에게 너무 의존하지 않고 스스로 판단할 줄도 알아야 합니다.");
                recommendations.push("팀원들이 당신의 리더십을 필요로 할 때는 적극적으로 나서보세요.");
            }
            
            if (minType === 1) recommendations.push("가끔은 과감하게 전투에 뛰어들어 용기를 내보세요. 생각보다 잘할 수 있을 거예요!");
            if (minType === 2) recommendations.push("간단한 전략이라도 세우고 행동하면 더 나은 결과를 얻을 수 있습니다.");
            if (minType === 3) recommendations.push("생존에 더 신경 써보세요. 조금만 더 조심하면 승률이 올라갈 거예요!");
            if (minType === 4) recommendations.push("팀원들과의 소통을 늘리면 게임이 더 즐거워질 거예요. 마이크를 켜고 대화해보세요!");
            
            if (recommendations.length === 0) {
                recommendations.push("당신은 이미 균형 잡힌 플레이어입니다. 현재 스타일을 유지하면서 다양한 경험을 쌓아보세요!");
            }
            
            return recommendations.join(" ") + " 이러한 전략을 적용하면 게임에서 더 큰 성공을 거둘 수 있을 것입니다!";
        }
        
        // 팀에서의 역할
        function getTeamRole(scores) {
            const maxType = getMaxScoreType(scores);
            
            switch(maxType) {
                case 1:
                    return "당신은 팀의 돌격대장 역할에 가장 적합합니다. 전투에서 앞장서서 적의 진형을 무너뜨리는 선봉대 역할을 맡으면 좋습니다. 팀원들에게 용기와 자신감을 불어넣어 줄 수 있습니다.";
                case 2:
                    return "당신은 팀의 전략가 역할에 가장 적합합니다. 작전을 계획하고 팀원들에게 지시를 내리는 지휘관 역할을 맡으면 좋습니다. 냉철한 판단으로 팀을 승리로 이끌 수 있습니다.";
                case 3:
                    return "당신은 팀의 정찰병 역할에 가장 적합합니다. 적의 위치와 움직임을 파악해 팀원들에게 정보를 제공하는 역할을 맡으면 좋습니다. 위험을 미리 감지해 팀을 보호할 수 있습니다.";
                case 4:
                    return "당신은 팀의 서포터 역할에 가장 적합합니다. 팀원들을 보조하고 구출하며, 필요한 아이템을 공급하는 역할을 맡으면 좋습니다. 팀의 화합을 유지하는 데 큰 기여를 할 수 있습니다.";
                default:
                    return "당신은 팀에서 유연한 역할을 수행할 수 있습니다. 상황에 따라 다양한 역할을 맡으며 팀에 기여할 수 있습니다. 팀원들이 필요로 하는 역할을 자발적으로 수행하는 모습이 돋보입니다.";
            }
        }
        
        // 모든 유형 순위 생성
        function createAllTypesRanking(scores) {
            const allTypes = [
                {name: "🔥 돌격대원", desc: "공격적인 플레이를 선호하는 전투 중심형", score: scores[1]},
                {name: "🎯 저격 전문가", desc: "전략과 정확성을 중시하는 계산형", score: scores[2]},
                {name: "🌿 생존 전문가", desc: "생존과 위험 회피를 우선시하는 신중형", score: scores[3]},
                {name: "🤝 팀 플레이어", desc: "협동과 소통을 가장 중요하게 생각하는 팀형", score: scores[4]},
                {name: "⚔️ 전투 전략가", desc: "전투와 전략을 결합한 균형형", score: (scores[1] + scores[2]) / 2},
                {name: "🏹 기회주의자", desc: "기회를 잘 포착하는 유연형", score: (scores[1] + scores[3]) / 2},
                {name: "🛡️ 돌격 리더", desc: "공격적이면서도 팀을 이끄는 리더형", score: (scores[1] + scores[4]) / 2},
                {name: "🎯 계산적인 생존자", desc: "전략적으로 생존하는 지능형", score: (scores[2] + scores[3]) / 2},
                {name: "🧠 전술 사령관", desc: "전략과 팀워크를 결합한 지휘형", score: (scores[2] + scores[4]) / 2},
                {name: "🕵️‍♂️ 지원 전문가", desc: "생존과 팀워크를 중시하는 지원형", score: (scores[3] + scores[4]) / 2}
            ];
            
            // 점수 순으로 정렬
            allTypes.sort((a, b) => b.score - a.score);
            
            let rankingHTML = '<h3>🏆 모든 성향 유형 순위</h3><p>다양한 배틀그라운드 플레이어 유형을 점수 순으로 확인해보세요:</p>';
            
            allTypes.forEach((type, index) => {
                rankingHTML += `
                    <div class="ranking-item">
                        <div class="ranking-title">
                            <h3>${index + 1}위: ${type.name}</h3>
                            <span class="ranking-score">${type.score.toFixed(1)}점</span>
                        </div>
                        <p class="ranking-description">${type.desc}</p>
                    </div>
                `;
            });
            
            document.getElementById('allTypesRanking').innerHTML = rankingHTML;
        }
        
        // 궁합 정보 생성
        function createCompatibilityInfo(resultType) {
            const compatHTML = `
                <h3>💞 팀원 궁합 분석</h3>
                <p>당신의 성향 "${resultType}"과 다른 유형의 플레이어들과의 궁합을 확인해보세요:</p>
                
                <div class="compatibility-grid">
                    <div class="compat-item">
                        <div class="compat-type">🔥 돌격대원</div>
                        <div class="compat-score">${getCompatScore(resultType, '🔥 돌격대원')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🎯 저격 전문가</div>
                        <div class="compat-score">${getCompatScore(resultType, '🎯 저격 전문가')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🌿 생존 전문가</div>
                        <div class="compat-score">${getCompatScore(resultType, '🌿 생존 전문가')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🤝 팀 플레이어</div>
                        <div class="compat-score">${getCompatScore(resultType, '🤝 팀 플레이어')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">⚔️ 전투 전략가</div>
                        <div class="compat-score">${getCompatScore(resultType, '⚔️ 전투 전략가')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🏹 기회주의자</div>
                        <div class="compat-score">${getCompatScore(resultType, '🏹 기회주의자')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🛡️ 돌격 리더</div>
                        <div class="compat-score">${getCompatScore(resultType, '🛡️ 돌격 리더')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🎯 계산적인 생존자</div>
                        <div class="compat-score">${getCompatScore(resultType, '🎯 계산적인 생존자')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🧠 전술 사령관</div>
                        <div class="compat-score">${getCompatScore(resultType, '🧠 전술 사령관')}</div>
                    </div>
                    <div class="compat-item">
                        <div class="compat-type">🕵️‍♂️ 지원 전문가</div>
                        <div class="compat-score">${getCompatScore(resultType, '🕵️‍♂️ 지원 전문가')}</div>
                    </div>
                </div>
                
                <p>${getCompatDescription(resultType)}</p>
            `;
            
            document.getElementById('compatibilityInfo').innerHTML = compatHTML;
        }
        
        // 궁합 점수 계산
        function getCompatScore(userType, targetType) {
            if (userType === targetType) return "★★★☆☆ (유사한 스타일)";
            
            const compatMap = {
                '🔥 돌격대원': {'🎯 저격 전문가': '★★★★☆', '🌿 생존 전문가': '★☆☆☆☆', '🤝 팀 플레이어': '★★☆☆☆'},
                '🎯 저격 전문가': {'🔥 돌격대원': '★★★★☆', '🌿 생존 전문가': '★★★☆☆', '🤝 팀 플레이어': '★★★☆☆'},
                '🌿 생존 전문가': {'🔥 돌격대원': '★☆☆☆☆', '🎯 저격 전문가': '★★★☆☆', '🤝 팀 플레이어': '★★★★☆'},
                '🤝 팀 플레이어': {'🔥 돌격대원': '★★☆☆☆', '🎯 저격 전문가': '★★★☆☆', '🌿 생존 전문가': '★★★★☆'},
                '⚔️ 전투 전략가': {'🏹 기회주의자': '★★★☆☆', '🛡️ 돌격 리더': '★★★★☆', '🎯 계산적인 생존자': '★★☆☆☆', '🧠 전술 사령관': '★★★★★', '🕵️‍♂️ 지원 전문가': '★★★☆☆'},
                '🏹 기회주의자': {'⚔️ 전투 전략가': '★★★☆☆', '🛡️ 돌격 리더': '★★☆☆☆', '🎯 계산적인 생존자': '★★★★☆', '🧠 전술 사령관': '★★★☆☆', '🕵️‍♂️ 지원 전문가': '★★★★☆'},
                '🛡️ 돌격 리더': {'⚔️ 전투 전략가': '★★★★☆', '🏹 기회주의자': '★★☆☆☆', '🎯 계산적인 생존자': '★★★☆☆', '🧠 전술 사령관': '★★★★☆', '🕵️‍♂️ 지원 전문가': '★★★★★'},
                '🎯 계산적인 생존자': {'⚔️ 전투 전략가': '★★☆☆☆', '🏹 기회주의자': '★★★★☆', '🛡️ 돌격 리더': '★★★☆☆', '🧠 전술 사령관': '★★★☆☆', '🕵️‍♂️ 지원 전문가': '★★★★☆'},
                '🧠 전술 사령관': {'⚔️ 전투 전략가': '★★★★★', '🏹 기회주의자': '★★★☆☆', '🛡️ 돌격 리더': '★★★★☆', '🎯 계산적인 생존자': '★★★☆☆', '🕵️‍♂️ 지원 전문가': '★★★★☆'},
                '🕵️‍♂️ 지원 전문가': {'⚔️ 전투 전략가': '★★★☆☆', '🏹 기회주의자': '★★★★☆', '🛡️ 돌격 리더': '★★★★★', '🎯 계산적인 생존자': '★★★★☆', '🧠 전술 사령관': '★★★★☆'}
            };
            
            return compatMap[userType]?.[targetType] || '★★★☆☆ (보통 수준)';
        }
        
        // 궁합 설명
        function getCompatDescription(userType) {
            const descriptions = {
                '🔥 돌격대원': "당신은 공격적인 스타일이므로 전략적인 플레이어와 함께하면 좋은 시너지를 낼 수 있습니다. 하지만 너무 소극적인 플레이어와는 의견 충돌이 있을 수 있으니 주의하세요!",
                '🎯 저격 전문가': "당신은 전략적인 플레이어이므로 다양한 스타일의 팀원들과 잘 어울립니다. 특히 돌격대원과의 조합이 효과적일 수 있습니다.",
                '🌿 생존 전문가': "당신은 신중한 스타일이므로 팀 플레이어와 가장 잘 어울립니다. 공격적인 플레이어와는 플레이 방식의 차이로 인해 갈등이 생길 수 있습니다.",
                '🤝 팀 플레이어': "당신은 협동을 중시하므로 대부분의 스타일과 잘 어울립니다. 특히 생존 전문가와의 조합이 팀의 생존율을 크게 높여줄 수 있습니다.",
                '⚔️ 전투 전략가': "당신은 전투와 전략의 균형을 이루므로 전술 사령관과 가장 잘 어울립니다. 다양한 스타일의 플레이어들과 협력할 수 있는 유연성을 가지고 있습니다.",
                '🏹 기회주의자': "당신은 유연한 스타일이므로 계산적인 생존자나 지원 전문가와 잘 어울립니다. 예측하기 어려운 움직임이 팀에 혼란을 줄 수도 있으니 주의하세요.",
                '🛡️ 돌격 리더': "당신은 리더십이 있으므로 지원 전문가와 가장 잘 어울립니다. 팀원들을 이끌면서도 그들을 보호할 수 있는 능력이 있습니다.",
                '🎯 계산적인 생존자': "당신은 지능적인 생존자이므로 기회주의자나 지원 전문가와 잘 어울립니다. 너무 공격적인 플레이어와는 접근 방식의 차이가 있을 수 있습니다.",
                '🧠 전술 사령관': "당신은 훌륭한 지휘관이므로 전투 전략가와 가장 잘 어울립니다. 체계적인 작전을 세우고 팀원들을 효율적으로 이끌 수 있습니다.",
                '🕵️‍♂️ 지원 전문가': "당신은 팀의 지원자이므로 돌격 리더와 가장 잘 어울립니다. 팀원들을 보조하고 필요한 것을 제공하는 데 탁월한 능력을 발휘합니다."
            };
            
            return descriptions[userType] || "당신은 다양한 스타일의 플레이어들과 잘 어울릴 수 있습니다. 팀원들의 강점을 이해하고 활용하면 더 좋은 결과를 얻을 수 있을 거예요!";
        }
        
        // 최고 점수 유형 찾기
        function getMaxScoreType(scores) {
            let max = 0;
            let maxType = 1;
            
            for (const type in scores) {
                if (scores[type] > max) {
                    max = scores[type];
                    maxType = parseInt(type);
                }
            }
            
            return maxType;
        }
        
        // 최저 점수 유형 찾기
        function getMinScoreType(scores) {
            let min = Infinity;
            let minType = 1;
            
            for (const type in scores) {
                if (scores[type] < min) {
                    min = scores[type];
                    minType = parseInt(type);
                }
            }
            
            return minType;
        }
        
        // 테스트 다시 시작
        function restartTest() {
            currentQuestion = 1;
            
            // 답변 초기화
            for (let i = 1; i <= totalQuestions; i++) {
                delete answers[i];
            }
            
            // UI 초기화
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('nextBtn').disabled = true;
            document.getElementById('prevBtn').disabled = true;
            
            // 질문 초기화
            document.querySelectorAll('.question').forEach((question, index) => {
                question.classList.remove('active');
                if (index === 0) question.classList.add('active');
            });
            
            // 결과 화면 숨기고 테스트 화면 표시
            document.getElementById('resultContainer').style.display = 'none';
            document.getElementById('testContainer').style.display = 'block';
            
            // 페이지 상단으로 스크롤
            window.scrollTo(0, 0);
        }
        
        // 접기/펼치기 기능
        const collapsibles = document.getElementsByClassName("collapsible");
        
        for (let i = 0; i < collapsibles.length; i++) {
            collapsibles[i].addEventListener("click", function() {
                this.classList.toggle("active");
                const content = this.nextElementSibling;
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                } else {
                    content.style.maxHeight = content.scrollHeight + "px";
                } 
            });
        }
        
        // 페이지 로드 시 초기화
        window.onload = function() {
            createFloatingItems();
            updateNavigation();
        };
    </script>
</body>
</html>